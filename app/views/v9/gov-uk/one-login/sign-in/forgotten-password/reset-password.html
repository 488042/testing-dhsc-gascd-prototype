{% extends "v9/gov-uk/one-login/layouts/default.html" %}

<!-- Set a blank service name (i.e. not get adult social care data) -->
{% set serviceName %}
{% endset %}

{% block pageTitle %}
  Reset your password - GOV.UK One Login – Prototype Kit
{% endblock %}

{% block content %}
<style>
  
  .govuk-show-password__input-wrapper {
    display: table;
    display: flex;
    width: 100%;
    flex-direction: column;
  }

  @media (min-width: 20em) {
    .govuk-show-password__input-wrapper {
      flex-direction: row;
    }
  }
  .govuk-show-password__input-wrapper .govuk-input--with-password {
    display: table-cell;
  }

  .govuk-show-password__input-wrapper .govuk-input--with-password:focus {
    z-index: 1;
  }

  .govuk-show-password__input-wrapper .govuk-input--with-password::-ms-reveal {
    display: none;
  }

  .govuk-show-password__toggle {
    font-family: "GDS Transport", arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    font-size: 16px;
    font-size: 1rem;
    line-height: 1.25;
    z-index: 0;
    display: table-cell;
    padding: 5px 15px;
    min-width: 5.5em;
    color: #1d70b8;
    text-decoration: underline;
    background: #fff;
    border: solid 2px #0b0c0c;
    white-space: nowrap;
    cursor: pointer;
  }

  @media print {
    .govuk-show-password__toggle {
      font-family: sans-serif;
    }
  }
  @media (min-width: 40.0625em) {
    .govuk-show-password__toggle {
      font-size: 19px;
      font-size: 1.1875rem;
      line-height: 1.3157894737;
    }
  }
  @media print {
    .govuk-show-password__toggle {
      font-size: 14pt;
      line-height: 1.15;
    }
  }
  @media (max-width: 19.99em) {
    .govuk-show-password__toggle {
      padding: 5px;
      width: 100%;
      margin-top: -2px;
      white-space: normal;
    }
  }
  @media (min-width: 20em) {
    .govuk-show-password__toggle {
      margin-left: -2px;
      margin-top: 0;
      margin-bottom: 0;
    }
  }
  .govuk-show-password__toggle:hover {
    color: #003078;
  }

  .govuk-show-password__toggle:focus {
    z-index: 1;
    background: #fd0;
    color: #0b0c0c;
    outline: 0;
  }

  .govuk-show-password__toggle:active {
    z-index: 1;
    background: #fff;
    border-color: #fd0;
    color: #0b0c0c;
  }

</style>

<div class="govuk-grid-row">
  
  <div class="govuk-grid-column-two-thirds">
    
    <form action="/v9/signed-in/{{data.postAuthenticationURL or 'select-location?justSignedIn=true&selectedLocationName=&locations=&searchRequired=true&paginationRequired=true&page1=true'}}" method="post" novalidate>
      <h1 class="govuk-heading-l">Reset your password</h1>

      <input type="hidden" name="_csrf" value="R5llNOhf-XOT-AHiIgPkphEHnEIHIHcEh0Wo">
      
        <div class="govuk-show-password" data-module="show-password" data-disable-form-submit-check="false" data-show-text="Show" data-hide-text="Hide" data-show-full-text="Show password" data-hide-full-text="Hide password" data-announce-show="Your password is shown" data-announce-hide="Your password is hidden">
              
          <div class="govuk-form-group">
            <label class="govuk-label" for="password">Enter a new password</label>
        
            <div id="password-hint" class="govuk-hint">
              It must be at least 8 characters and must include letters and numbers. Do not use a very common password, such as ‘password’ or a sequence of numbers.
            </div>

            <div class="govuk-input__wrapper"><div class="govuk-show-password__input-wrapper">
              <input class="govuk-input govuk-!-width-two-thirds govuk-password-input govuk-input--with-password" id="password" name="password" type="password" spellcheck="false" aria-describedby="password-hint" autocomplete="new-password" aria-autocomplete="list">
              <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span>
            </div>
            
            <span class="govuk-input__icon govuk-input__icon--right" onclick="togglePasswordVisibility('password', this)"></span>
            <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span> 
          </div>

        </div>
      
        <div class="govuk-form-group">
          <label class="govuk-label" for="confirm-password">Re-type your new password</label>
          
          <div class="govuk-show-password" data-module="show-password" data-disable-form-submit-check="false" data-show-text="Show" data-hide-text="Hide" data-show-full-text="Show password" data-hide-full-text="Hide password" data-announce-show="Your password is shown" data-announce-hide="Your password is hidden">
            
            <div class="govuk-input__wrapper">
              
              <div class="govuk-show-password__input-wrapper">
                <input class="govuk-input govuk-!-width-two-thirds govuk-password-input govuk-input--with-password" id="confirm-password" name="confirm-password" type="password" spellcheck="false" aria-describedby="confirm-password-hint" autocomplete="new-password" aria-autocomplete="list">
                <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span>
              </div>

              <span class="govuk-input__icon govuk-input__icon--right" onclick="togglePasswordVisibility('confirm-password', this)"></span>
              <span class="govuk-visually-hidden" aria-live="polite">Your password is hidden</span>
            </div>

          </div>
          
        </div>

        <details class="govuk-details" data-module="govuk-details">
          <summary class="govuk-details__summary">
            <span class="govuk-details__summary-text">How to create a secure password</span>
          </summary>

          <div class="govuk-details__text">
            <p class="govuk-body">A good way to create a secure and memorable password is to use 3 random words. You can use numbers, symbols and spaces.</p>
            <p class="govuk-body">You should use a password that you do not use for anything else.</p>
          </div>

        </details>
        <button class="govuk-button" data-module="govuk-button">Continue</button>
      </div>
  
    </form>

  </div>

</div>
{% endblock %}

{% block pageScripts %}
<script>

  //
  // For guidance on how to add JavaScript see:
  // https://prototype-kit.service.gov.uk/docs/adding-css-javascript-and-images
  //

  // Define the ShowPassword module
  window.GOVUK = window.GOVUK || {},
  window.GOVUK.Modules = window.GOVUK.Modules || {},
  function(t) {
      function s(t) {
          this.$module = t,
          this.input = this.$module.querySelector(".govuk-password-input")
      }
      s.prototype.init = function() {
          this.$module.togglePassword = this.togglePassword.bind(this),
          this.$module.revertToPasswordOnFormSubmit = this.revertToPasswordOnFormSubmit.bind(this),
          this.input.classList.add("govuk-input--with-password"),
          this.showPasswordText = this.$module.getAttribute("data-show-text"),
          this.hidePasswordText = this.$module.getAttribute("data-hide-text"),
          this.showPasswordFullText = this.$module.getAttribute("data-show-full-text"),
          this.hidePasswordFullText = this.$module.getAttribute("data-hide-full-text"),
          this.shownPassword = this.$module.getAttribute("data-announce-show"),
          this.hiddenPassword = this.$module.getAttribute("data-announce-hide"),
          this.wrapper = document.createElement("div"),
          this.wrapper.classList.add("govuk-show-password__input-wrapper"),
          this.input.parentNode.insertBefore(this.wrapper, this.input),
          this.wrapper.appendChild(this.input),
          this.showHide = document.createElement("button"),
          this.showHide.className = "govuk-show-password__toggle",
          this.showHide.setAttribute("aria-controls", this.input.getAttribute("id")),
          this.showHide.setAttribute("type", "button"),
          this.showHide.setAttribute("aria-label", this.showPasswordFullText),
          this.showHide.innerHTML = this.showPasswordText,
          this.wrapper.insertBefore(this.showHide, this.input.nextSibling),
          this.statusText = document.createElement("span"),
          this.statusText.classList.add("govuk-visually-hidden"),
          this.statusText.innerHTML = this.hiddenPassword,
          this.statusText.setAttribute("aria-live", "polite"),
          this.wrapper.insertBefore(this.statusText, this.showHide.nextSibling),
          this.showHide.addEventListener("click", this.$module.togglePassword),
          this.moveDataAttributesToButton(),
          this.parentForm = this.input.form;
          var t = this.$module.getAttribute("data-disable-form-submit-check");
          this.parentForm && !t && this.parentForm.addEventListener("submit", this.$module.revertToPasswordOnFormSubmit)
      }
      ,
      s.prototype.togglePassword = function(t) {
          t.preventDefault(),
          this.showHide.innerHTML = this.showHide.innerHTML === this.showPasswordText ? this.hidePasswordText : this.showPasswordText,
          this.showHide.setAttribute("aria-label", this.showHide.getAttribute("aria-label") === this.showPasswordFullText ? this.hidePasswordFullText : this.showPasswordFullText),
          this.statusText.innerHTML = this.statusText.innerHTML === this.shownPassword ? this.hiddenPassword : this.shownPassword,
          this.input.setAttribute("type", "text" === this.input.getAttribute("type") ? "password" : "text")
      }
      ,
      s.prototype.revertToPasswordOnFormSubmit = function(t) {
          this.showHide.innerHTML = this.showPasswordText,
          this.showHide.setAttribute("aria-label", this.showPasswordFullText),
          this.statusText.innerHTML = this.hiddenPassword,
          this.input.setAttribute("type", "password")
      }
      ,
      s.prototype.moveDataAttributesToButton = function() {
          for (var t = this.input.attributes, s = t.length; 0 <= s; s--) {
              var e = t[s];
              e && /^data-button/.test(e.name) && (this.showHide.setAttribute(e.name.replace("-button", ""), e.value),
              this.input.removeAttribute(e.name))
          }
      }
      ,
      t.ShowPassword = s
  }(window.GOVUK.Modules);

</script>
<script>

  // Initialize the ShowPassword module
  var showPasswordElements = document.querySelectorAll('[data-module="show-password"]');
  for (var i = 0; i < showPasswordElements.length; i++) {
    new window.GOVUK.Modules.ShowPassword(showPasswordElements[i]).init();
  }

</script>
{% endblock %}